<!DOCTYPE html>
<html>
    <head>
        <title>Higher Order functions</title>
    </head>
    <body>
        <script>
            const products=[
            {name:"Product1",price:20,category:"Electronics"},
            {name:"Product2",price:30,category:"Clothes"},
            {name:"Product3",price:40,category:"Electronics"},
            {name:"Product4",price:50,category:"Clothes"},
            {name:"Product5",price:60,category:"Clothes"},
            {name:"Product6",price:70,category:"Electronics"},
            {name:"Product7",price:80,category:"Clothes"},
            {name:"Product8",price:90,category:"Electronics"},
            ]
            const productsByCategory=products.reduce((acc,product)=>{
                const category=product.category;
                if(!acc[category]){
                    acc[category]=[];
                }
                acc[category].push(product);
                return acc;
            },{});
            const avgPriceByCategory=Object.keys(productsByCategory).map((category)=>{
                const sum=productsByCategory[category].reduce((acc,product)=>acc+product.price,0);
                return {category:category,average:sum/productsByCategory[category].length};
            });
            const highPricedCategories=avgPriceByCategory.filter(category=>category.average>50);
            console.log(highPricedCategories);
        </script>
    </body>
</html>